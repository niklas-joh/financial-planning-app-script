{"chunk":18,"numChunks":31,"fileHash":"p7QjnH7owYj6gI9sV03tmQN28z3j87qqpbMEZWUm4gw=","filePath":"src/tests/dropdowns.test.js","content":"/**\n(function() {\n   const TestDropdownService = (function(utils, uiService, errorService, config) {\n        function handleTypeEdit(sheet, row, typeToCategories) { const typeCell = sheet.getRange(row, DROPDOWN_CONFIG.COLUMNS.TYPE); const categoryCell = sheet.getRange(row, DROPDOWN_CONFIG.COLUMNS.CATEGORY); const subCategoryCell = sheet.getRange(row, DROPDOWN_CONFIG.COLUMNS.SUB_CATEGORY); const type = typeCell.getValue(); const oldCategoryValue = categoryCell.getValue(); const categories = typeToCategories[type] || []; setDropdownValidation(categoryCell, categories); if (oldCategoryValue && (categories.length === 0 || !categories.includes(oldCategoryValue))) { categoryCell.clearContent(); subCategoryCell.clearContent().clearDataValidations(); highlightPending(categoryCell); } else if (categories.length > 0 && !oldCategoryValue) { highlightPending(categoryCell); } clearPlaceholderIfNeeded(typeCell); if (categoryCell.getValue() !== DROPDOWN_CONFIG.UI.PLACEHOLDER_TEXT && categoryCell.getValue() !== \"\") { clearHighlight(categoryCell); } }"}