{"chunk":12,"numChunks":22,"fileHash":"wbMTlp5wfNC536JlPZyVYgM0VwIkYw/qRT8z/ZBt7IE=","filePath":"cline/clasp-pull/src/core/controllers.js","content":"/**\nFinancialPlanner.Controllers = (function(config, uiService, errorService) {\n  return {\n    toggleShowSubCategories: wrapWithFeedback(\n      function() {\n        // Use the SettingsService to toggle the sub-categories preference\n        const newValue = FinancialPlanner.SettingsService.toggleShowSubCategories();\n        \n        // Get the active spreadsheet and overview sheet\n        const ss = SpreadsheetApp.getActiveSpreadsheet();\n        const overviewSheet = ss.getSheetByName(FinancialPlanner.Config.getSheetNames().OVERVIEW);\n        \n        // If the overview sheet exists, update it based on the new preference\n        if (overviewSheet) {\n          if (newValue) {\n            overviewSheet.showColumns(3, 1); // Show sub-categories column\n          } else {\n            overviewSheet.hideColumns(3, 1); // Hide sub-categories column\n          }\n        }\n        \n        return newValue;\n      },\n      \"Updating display preferences...\",\n      \"Display preferences updated successfully!\",\n      \"Failed to update display preferences\"\n    ),\n    /**\n     * Refreshes all application caches.\n     * This includes invalidating the general `CacheService` and the `DropdownService` cache.\n     * Provides UI feedback during the process.\n     * @return {boolean} True if the cache refresh process was initiated.\n     * @throws {Error} If an error occurs during cache invalidation.\n     */"}