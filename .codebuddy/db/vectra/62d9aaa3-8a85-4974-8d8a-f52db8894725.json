{"chunk":24,"numChunks":37,"fileHash":"p+NTwC3zq/FPOmXxcPSDB6QbnKDyg9Iv5YKb19s7AmA=","filePath":"src/services/financial_analysis.js","content":"/**\nFinancialPlanner.FinancialAnalysisService = (function(utils, uiService, errorService, config) {\n  class FinancialAnalysisService {\n    addKeyMetricsSection(startRow) {\n      const pairedMetrics = [\n        {\n          cashFlow: {\n            name: 'Total Gross Income',\n            avgFormula: `=IFERROR(${totals.income.averageRef}, \"N/A\")`,\n            totalFormula: `=IFERROR(${totals.income.totalRef}, \"N/A\")`,\n            sparklinePlaceholderText: `[Trend: Gross Income]`,\n            valueType: 'currency',\n            description: \"Total income from all sources before any deductions or allocations.\"\n          },\n          rate: {\n            name: 'Overall Savings Rate',\n            avgFormula: `=IFERROR(${totals.savings.averageRef}/${totals.income.averageRef},0)`,\n            targetValue: serviceInstance.config.TARGET_RATES.SAVINGS !== undefined ? serviceInstance.config.TARGET_RATES.SAVINGS : 'N/A',\n            sparklinePlaceholderText: `[Trend: Savings Rate]`,\n            valueType: 'percentage',\n            avgLabel: 'Avg Rate',\n            description: \"Percentage of gross income allocated to savings.\"\n          }\n        },"}