{"chunk":27,"numChunks":36,"fileHash":"5PxeaT4n9kgvALpAj5B1jgQlallPIdU12UlI5e4vOJw=","filePath":"src/services/finance_overview.js","content":"/**\nFinancialPlanner.FinanceOverview = (function(utils, uiService, cacheService, errorService, config, settingsService, analysisServiceInstance) {\n  function findTotalRows(data) {\n    // Initialize all row finders\n    const totals = { \n      incomeRow: null, \n      expensesRow: null, \n      savingsRow: null,\n      essentialsRow: null, // For \"Essentials\" type total row\n      wantsPleasureRow: null // For \"Wants/Pleasure\" type total row\n    };\n    const transactionTypes = config.getSection('TRANSACTION_TYPES');\n    // Assuming 'Essentials' and 'Wants/Pleasure' are the exact strings used for these type totals in column A.\n    // These strings would typically come from config.getSection('EXPENSE_TYPES') or similar.\n    // For now, hardcoding based on common usage. If these are configurable, this needs adjustment.\n    const essentialsTypeString = \"Essentials\"; // Placeholder, ideally from config\n    const wantsPleasureTypeString = \"Wants/Pleasure\"; // Placeholder, ideally from config\n    for (let i = 0; i < data.length; i++) {\n      const cellValue = data[i][0] ? data[i][0].toString() : \"\";\n      if (cellValue === \"Total Income\") totals.incomeRow = i + 1;\n      if (cellValue === \"Total Expenses\") totals.expensesRow = i + 1;\n      if (cellValue === transactionTypes.SAVINGS) totals.savingsRow = i + 1;\n      if (cellValue === essentialsTypeString) totals.essentialsRow = i + 1;\n      if (cellValue === wantsPleasureTypeString) totals.wantsPleasureRow = i + 1;\n    }"}