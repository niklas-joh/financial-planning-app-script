{"chunk":14,"numChunks":27,"fileHash":"Hvfxbs62+mBjdPYhoaFqbZMl0X/76Hadv8OqiZ+yaKg=","filePath":"cline/clasp-verify/src/services/dropdowns.js","content":"/**\nFinancialPlanner.DropdownService = (function(utils, uiService, errorService, config) {\n  function handleCategoryEdit(sheet, row, typeCategoryToSubCategories) {\n    const typeCell = sheet.getRange(row, DROPDOWN_CONFIG.COLUMNS.TYPE);\n    const categoryCell = sheet.getRange(row, DROPDOWN_CONFIG.COLUMNS.CATEGORY);\n    const subCategoryCell = sheet.getRange(row, DROPDOWN_CONFIG.COLUMNS.SUB_CATEGORY);\n\n    const type = typeCell.getValue();\n    const category = categoryCell.getValue();\n    const oldSubCategoryValue = subCategoryCell.getValue();\n\n    if (type && category && category !== DROPDOWN_CONFIG.UI.PLACEHOLDER_TEXT) {\n      const key = `${type}${DROPDOWN_CONFIG.KEY_SEPARATOR}${category}`;\n      const subCategories = typeCategoryToSubCategories[key] || [];\n      setDropdownValidation(subCategoryCell, subCategories);\n\n      if (oldSubCategoryValue && (subCategories.length === 0 || !subCategories.includes(oldSubCategoryValue))) {\n        subCategoryCell.clearContent();\n        highlightPending(subCategoryCell);\n      } else if (subCategories.length > 0 && !oldSubCategoryValue) {\n        highlightPending(subCategoryCell); // Highlight if new options available and cell is empty\n      }\n\n    } else {\n      // If type or category is placeholder or empty, clear sub-category\n      subCategoryCell.clearContent().clearDataValidations();\n    }\n\n    clearPlaceholderIfNeeded(categoryCell);\n    if (subCategoryCell.getValue() !== DROPDOWN_CONFIG.UI.PLACEHOLDER_TEXT && subCategoryCell.getValue() !== \"\") {\n        clearHighlight(subCategoryCell);\n    }\n  }\n  /**\n   * Handles edits made to the 'Sub-Category' column in the Transactions sheet.\n   * Clears placeholder text and any pending highlight.\n   * @param {GoogleAppsScript.Spreadsheet.Sheet} sheet - The Transactions sheet object.\n   * @param {number} row - The 1-based row number"}