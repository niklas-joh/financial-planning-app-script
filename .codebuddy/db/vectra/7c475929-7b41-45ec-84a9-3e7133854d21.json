{"chunk":30,"numChunks":35,"fileHash":"KnGRZfWKIc39Wbh8b5JI+OtSMVtmab0GI6OHguWwGLg=","filePath":"src/features/financial-analysis/financial_analysis.js","content":"/**\nFinancialPlanner.FinancialAnalysisService = (function(\n) {\n  class FinancialAnalysisService {\n    buildKeyMetricsSection(metrics) {\n      const pairedMetrics = [\n        {\n          cashFlow: {\n            name: 'Allocatable Income',\n            avgFormula: `=IFERROR(${totals.income.averageRef}+${totals.essentials.averageRef}+${totals.wantsPleasure.averageRef}-${totals.savings.averageRef}, \"N/A\")`,\n            totalFormula: `=IFERROR(${totals.income.totalRef}+${totals.essentials.totalRef}+${totals.wantsPleasure.totalRef}-${totals.savings.totalRef}, \"N/A\")`,\n            sparklinePlaceholderText: `[Trend: Allocatable Income]`,\n            valueType: 'currency',\n            description: \"Funds for 'Extra' spending or more savings, after core costs & planned savings.\"\n          },\n          rate: {\n            name: 'Extra Spending Rate',\n            avgFormula: `=IFERROR(ABS(${totals.extra.averageRef})/${totals.income.averageRef},0)`,\n            targetValue: targetRates.EXTRA || 0.1,\n            sparklinePlaceholderText: `[Trend: Extra Rate]`,\n            valueType: 'percentage',\n            avgLabel: 'Avg Rate',\n            totalLabel: 'Target',\n            description: \"Percentage of gross income spent on non-categorized extra items.\"\n          }\n        },"}