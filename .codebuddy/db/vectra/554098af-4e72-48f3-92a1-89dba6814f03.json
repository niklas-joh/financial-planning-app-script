{"chunk":26,"numChunks":31,"fileHash":"p7QjnH7owYj6gI9sV03tmQN28z3j87qqpbMEZWUm4gw=","filePath":"src/tests/dropdowns.test.js","content":"/**\n(function() {\n    T.registerTest(\"DropdownService\", \"handleEdit on SubCategory should clear highlight\", function() {\n      setupMockSheets();\n      const transactionsSheet = mockActiveSpreadsheet.getSheetByName(\"Transactions\");\n      // Pre-set Type and Category, and highlight\n      transactionsSheet.getRange(4, 3).setValue(\"Expense\");\n      transactionsSheet.getRange(4, 4).setValue(\"Food\");\n      transactionsSheet.getRange(4, 5).setBackground(TestDropdownService.DROPDOWN_CONFIG.UI.PENDING_BACKGROUND); // Simulate highlight\n\n      // Edit Sub-Category in R4\n      const editRange = transactionsSheet.getRange(4, 5);\n      editRange.setValue(\"Groceries\");\n\n      const mockEvent = { range: editRange, source: mockActiveSpreadsheet, value: \"Groceries\" };\n      TestDropdownService.handleEdit(mockEvent);\n\n      // Check highlight on Sub-Category cell (R4, C5)\n      T.assertEquals(null, transactionsSheet.getRange(4, 5)._background, \"Sub-Category cell highlight should be cleared.\");\n   });"}