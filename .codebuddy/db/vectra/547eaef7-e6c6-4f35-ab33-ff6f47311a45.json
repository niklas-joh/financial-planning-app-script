{"chunk":15,"numChunks":30,"fileHash":"+K7Wn3694Zo7CvqWeZ2iy4UDcUumZZ0a1vWhvg0ddkM=","filePath":"src/tests/financial_analysis.test.js","content":"/**\n(function() {\n  global.SpreadsheetApp = {\n    getActiveSpreadsheet: function() { return mockActiveSpreadsheet; },\n    BorderStyle: { SOLID: 'SOLID' }, // Mock enum\n    newConditionalFormatRule: function() { // Mock builder\n        return {\n            whenFormulaSatisfied: function(formula) { this._formula = formula; return this; },\n            setBackground: function(color) { this._background = color; return this; },\n            setRanges: function(ranges) { this._ranges = ranges; return this; },\n            build: function() { return { _formula: this._formula, _background: this._background, _ranges: this._ranges }; }\n        };\n    }\n  };\n  global.Charts = { ChartType: { PIE: 'PIE', COLUMN: 'COLUMN' } };\n  global.Logger = { log: function(msg) { console.log(\"Logger.log:\", msg); } };\n  // --- Mock Other Dependencies ---\n  const mockConfig = {\n      _data: {\n          SHEETS: { OVERVIEW: \"Overview\", ANALYSIS: \"Analysis\" },\n          TARGET_RATES: { DEFAULT: 0.2, ESSENTIALS: 0.5, WANTS: 0.3, EXTRA: 0.2 }, // Added WANTS for mapping test\n          COLORS: { UI: { HEADER_BG: \"#ccc\", HEADER_FONT: \"#000\", METRICS_BG: \"#eee\", EXPENSE_FONT: \"#f00\", INCOME_FONT: \"#0f0\" }, CHART: { TITLE: \"#333\", TEXT: \"#444\", SERIES: [\"#f00\", \"#0f0\", \"#00f\"] } }\n      },\n      get: function() { return JSON.parse(JSON.stringify(this._data)); },\n      getSection: function(section) { return JSON.parse(JSON.stringify(this._data[section] || {})); }\n  };"}